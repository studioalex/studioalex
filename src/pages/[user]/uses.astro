---
import { contentfulClient } from "../../lib/contentful"
import Layout from '../../layouts/Layout.astro'
import Headline from '../../components/Headline.astro'
import Paragraph from '../../components/Paragraph.astro'
import Uses from '../../components/Uses.astro'
import Hardware from '../../components/Hardware.astro'
import ButtonGradient from '../../components/ButtonGradient.astro'

import type { HardwareType } from '../../components/Hardware.astro'

interface UsesItemsType {
  title: string,
  description: string,
  image: string,
  link: string
}

interface UsesType {
  title: string,
  description: string,
  items: UsesItemsType[]
}

interface StudioAlexUsers {
  name: string,
  nickname: string,
  uses: UsesType[]
  hardware: HardwareType[]
}

export function getStaticPaths() {
  return [
    {params: { user: 'alexander' }},
    {params: { user: 'lea' }}
  ]
}

const { user } = Astro.params
const idList = {
  'alexander': '3oRoJvys6PoWW6Hwv17Hdf',
  'lea': '41b8LHFCinwNB0cgTCA70U'
}
const person = await contentfulClient.getEntry<StudioAlexUsers>(idList[user])
---
<Layout title={`Studio Alex - ${person.fields.nickname} uses`} styles="size-small">
  <div class="sa-uses__toolbar">
    <ButtonGradient color="green" link={`/${person.fields.nickname.toLowerCase()}/about`}>
      <span class="sa-link--light">{person.fields.nickname} / </span>
      <span class="sa-link--strong">Profile</span>
    </ButtonGradient>
  </div>
  <Headline>{`${person.fields.nickname} uses`}</Headline>

  <Paragraph>
    There are times where people ask me about what software or gear I am using.
    <br />This page will serve as a living document for people to always know the latest and greatest.
  </Paragraph>
  
  <Hardware list={person.fields.hardware} />

  {person.fields.uses.map(item => (
    <Uses title={item.title} data={item.items} />
  ))}

  <Paragraph>
    This page is inspired from <a href="https://wesbos.com/uses" target="_blank">Wes Bos' Uses page</a>.
  </Paragraph>
</Layout>

<style>
  .sa-link--strong {
    text-transform: uppercase;
    font-weight: 600;
  }

  .sa-link--light {
    text-transform: lowercase;
    font-weight: 300;
  }
</style>
